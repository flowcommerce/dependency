nameOverride: "dependency-api"
fullnameOverride: "dependency-api"

service:
  nameOverride: "dependency"

team: foundation

iamRole: arn:aws:iam::479720515435:role/ecsInstanceRole
image:
  repository: flowcommerce/dependency-api

resources:
  limits:
    memory: "3400Mi"
    cpu: 1
  requests:
    memory: "3400Mi"
    cpu: .05

jvmOpts:
  memory: 3000m

nodeSelector:
   role: workers-lg

tolerations:
  - key: "role"
    operator: "Equal"
    value: "workers-lg"
    effect: "NoSchedule"
     
deployments:
  live:
    minReplicas: 1
    maxReplicas: 1
    maxUnavailable: 1

rolloutResource:
  enabled: false

canary:
  # Disable this to follow the default RollingUpdate Strategy
  enabled: false

datadogMonitors:
  - type: "trace.akka_http.request.errors-sum"
    alert:
      threshold: "2"
    warning:
      threshold: "1.6"
      notificationTarget: "@slack-team-foundation-notifications"
  - type: "trace.akka_http.request-p95"
    warning:
      notificationTarget: "@slack-team-foundation-notifications"
  - type: "trace.akka_http.request-avg"
    alert:
      threshold: "20"
    warning:
      threshold: "16"
      notificationTarget: "@slack-team-foundation-notifications"
